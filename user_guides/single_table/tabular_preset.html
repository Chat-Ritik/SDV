
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tabular Preset &#8212; SDV 0.16.0 documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sdv.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../../_static/SDV.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GaussianCopula Model" href="gaussian_copula.html" />
    <link rel="prev" title="Models" href="models.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/SDV.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../getting_started/index.html">Getting Started</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">User Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../api_reference/index.html">API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../developer_guides/index.html">Developer Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../history.html">Release Notes</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/sdv-dev/SDV" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/sdv_dev" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://bit.ly/sdv-slack-invite" target="_blank" rel="noopener">
              <img class="nav-icon-img" src="../../_static/slack-32.png">
            </a>
          </li>
        
      </ul>
    </div>
</div>

    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
    
    <ul class="nav bd-sidenav">
        
        
        
        
          
            
                <li class="active">
                    <a href="index.html">Single Table Data</a>
                    <ul>
                    
                        
                            <li class="">
                                <a href="data_description.html">Data Description</a>
                            </li>
                        

                    
                        
                            <li class="active">
                                <a href="models.html">Models</a>
                                <ul>
                                
                                    <li class="active">
                                        <a href="">Tabular Preset</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="gaussian_copula.html">GaussianCopula Model</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="ctgan.html">CTGAN Model</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="copulagan.html">CopulaGAN Model</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="tvae.html">TVAE Model</a>
                                    </li>
                                
                                </ul>
                            </li>
                        

                    
                        
                            <li class="">
                                <a href="constraints.html">Constraints</a>
                            </li>
                        

                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="../relational/index.html">Relational Data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../timeseries/index.html">Timeseries Data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../evaluation/index.html">Synthetic Data Evaluation</a>
                </li>
            
          
            
                <li class="">
                    <a href="../benchmarking/index.html">Benchmarking Framework</a>
                </li>
            
          
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-is-the-fast-ml-preset" class="nav-link">What is the FAST_ML preset?</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#what-will-you-get-with-this-preset" class="nav-link">What will you get with this preset?</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#quick-usage" class="nav-link">Quick Usage</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#preparation" class="nav-link">Preparation</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#modeling" class="nav-link">Modeling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#sampling" class="nav-link">Sampling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#conditional-sampling" class="nav-link">Conditional Sampling</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#advanced-usage" class="nav-link">Advanced Usage</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#adding-constraints" class="nav-link">Adding Constraints</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#resources" class="nav-link">Resources</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="tabular-preset">
<span id="id1"></span><h1>Tabular Preset<a class="headerlink" href="#tabular-preset" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">TabularPreset</span></code> is a tabular model that comes with pre-configured settings. This
is meant for users who want to get started with using synthetic data and spend
less time worrying about which model to choose or how to tune its parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We are currently in Beta testing our speed-optimized machine learning preset. Help us by
testing the model and <a class="reference external" href="https://github.com/sdv-dev/SDV/issues/new/choose">filing issues</a>
for any bugs or feature requests you may have.</p>
</div>
<div class="section" id="what-is-the-fast-ml-preset">
<h2>What is the FAST_ML preset?<a class="headerlink" href="#what-is-the-fast-ml-preset" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">FAST_ML</span></code> preset is our first preset. It uses machine learning (ML) to model your data
while optimizing for the modeling time. This is a great choice if it’s your first time using
the SDV for a large custom dataset or if you’re exploring the benefits of using ML to create
synthetic data.</p>
<div class="section" id="what-will-you-get-with-this-preset">
<h3>What will you get with this preset?<a class="headerlink" href="#what-will-you-get-with-this-preset" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>This preset optimizes for the modeling time while still applying machine learning to model
and generate synthetic data.</p></li>
<li><p>Your synthetic data will capture correlations that exist between the columns of the original
data.</p></li>
<li><p>Your synthetic data will adhere to the basic statistical properties of the original columns:
min/max values, averages and standard deviations.</p></li>
</ul>
<p>While other SDV models may create higher quality synthetic data, they will take longer.
Using the <code class="docutils literal notranslate"><span class="pre">FAST_ML</span></code> preset allows you to get started with ML to create synthetic data
right now.</p>
</div>
</div>
<div class="section" id="quick-usage">
<h2>Quick Usage<a class="headerlink" href="#quick-usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="preparation">
<h3>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h3>
<p>To use this preset, you must have:</p>
<ol class="arabic simple">
<li><p>Your data, loaded as a pandas DataFrame, and</p></li>
<li><p>(Optional but strongly recommended) A metadata file that describes the columns of your dataset</p></li>
</ol>
<p>For this guide, we’ll load the demo data and metadata from the SDV. This data contains
information about students, including their grades, major and work experience.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">sdv.demo</span> <span class="kn">import</span> <span class="n">load_tabular_demo</span>

<span class="gp">In [2]: </span><span class="n">metadata</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">load_tabular_demo</span><span class="p">(</span><span class="s1">&#39;student_placements&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec  mba_perc   salary  placed start_date   end_date  duration</span>
<span class="go">0       17264      M        67.00      91.00  Commerce        58.00    Sci&amp;Tech            False                 0                55.0   Mkt&amp;HR     58.80  27000.0    True 2020-07-23 2020-10-12       3.0</span>
<span class="go">1       17265      M        79.33      78.33   Science        77.48    Sci&amp;Tech             True                 1                86.5  Mkt&amp;Fin     66.28  20000.0    True 2020-01-11 2020-04-09       3.0</span>
<span class="go">2       17266      M        65.00      68.00      Arts        64.00   Comm&amp;Mgmt            False                 0                75.0  Mkt&amp;Fin     57.80  25000.0    True 2020-01-26 2020-07-13       6.0</span>
<span class="go">3       17267      M        56.00      52.00   Science        52.00    Sci&amp;Tech            False                 0                66.0   Mkt&amp;HR     59.43      NaN   False        NaT        NaT       NaN</span>
<span class="go">4       17268      M        85.80      73.60  Commerce        73.30   Comm&amp;Mgmt            False                 0                96.8  Mkt&amp;Fin     55.50  42500.0    True 2020-07-04 2020-09-27       3.0</span>
</pre></div>
</div>
<p>If you want to use your custom dataset, you can load it using pandas.
For example, if your data is available as a CSV file, you can use the <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> method.</p>
<p>You can write your metadata as a dictionary. Follow the
<a class="reference external" href="https://sdv.dev/SDV/developer_guides/sdv/metadata.html#table">Metadata guide</a> to create
a dictionary for a single table. For example, the metadata for our table looks
something like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{
    &#39;fields&#39;: {
        &#39;start_date&#39;: {&#39;type&#39;: &#39;datetime&#39;, &#39;format&#39;: &#39;%Y-%m-%d&#39;},
        &#39;end_date&#39;: {&#39;type&#39;: &#39;datetime&#39;, &#39;format&#39;: &#39;%Y-%m-%d&#39;},
        &#39;salary&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;integer&#39;},
        &#39;duration&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;student_id&#39;: {&#39;type&#39;: &#39;id&#39;, &#39;subtype&#39;: &#39;integer&#39;},
        &#39;high_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;high_spec&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;mba_spec&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;second_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;gender&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;degree_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;placed&#39;: {&#39;type&#39;: &#39;boolean&#39;},
        &#39;experience_years&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;integer&#39;},
        &#39;employability_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;mba_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;work_experience&#39;: {&#39;type&#39;: &#39;boolean&#39;},
        &#39;degree_type&#39;: {&#39;type&#39;: &#39;categorical&#39;}
    },
    &#39;constraints&#39;: [],
    &#39;primary_key&#39;: &#39;student_id&#39;
}
</pre></div>
</div>
</div>
<div class="section" id="modeling">
<h3>Modeling<a class="headerlink" href="#modeling" title="Permalink to this headline">¶</a></h3>
<p>Pass in your metadata to create the TabularPreset FAST_ML model.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="kn">from</span> <span class="nn">sdv.lite</span> <span class="kn">import</span> <span class="n">TabularPreset</span>

<span class="go"># Use the FAST_ML preset to optimize for modeling time</span>
<span class="gp">In [5]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">TabularPreset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;FAST_ML&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, simply pass in your data to train the model.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>The modeling step is optimized for speed. The exact time it takes depends on several factors
including the number of rows, columns and distinct categories in categorical columns. As a
rough benchmark, our analysis shows that:</p>
<ul class="simple">
<li><p>Datasets with around 100K rows and 50-100 columns will take a few minutes to model</p></li>
<li><p>Larger datasets with around 1M rows and hundreds of columns may take closer to an hour</p></li>
</ul>
<p>After you are finished modeling, you can save the fitted model and load it in again for future use.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># save the model in a new file</span>
<span class="gp">In [7]: </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;fast_ml_model.pkl&#39;</span><span class="p">)</span>

<span class="go"># later, you can load it in again</span>
<span class="gp">In [8]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">TabularPreset</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;fast_ml_model.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="sampling">
<h3>Sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h3>
<p>Once you have your model, you can begin to create synthetic data. Use the sample method and
pass in the number of rows you want to synthesize.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">synthetic_data</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">num_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">synthetic_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[10]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0           0      F    63.974949  57.747807   Science    64.633707   Comm&amp;Mgmt            False                 1           78.267418  Mkt&amp;Fin  61.997153  33146.0   False 2020-05-25 15:11:31.053861376 2020-12-28 06:30:37.543383552       NaN</span>
<span class="go">1           1      F    61.910800  84.848578  Commerce    69.580776   Comm&amp;Mgmt             True                 0           83.870554  Mkt&amp;Fin  61.867925      NaN   False 2020-05-01 18:31:31.582196480 2020-06-22 13:51:19.896036096       3.0</span>
<span class="go">2           2      M    71.453202  69.572136  Commerce    65.376447      Others            False                 0           65.173351   Mkt&amp;HR  66.649304  20000.0    True 2020-04-27 16:59:17.822418944 2020-08-17 14:42:08.435242496       3.0</span>
<span class="go">3           3      M    71.357065  71.950765  Commerce    72.145819   Comm&amp;Mgmt            False                 0           73.416602  Mkt&amp;Fin  62.688857      NaN   False 2020-02-21 18:39:02.985586944 2020-11-18 02:45:51.438863616      12.0</span>
<span class="go">4           4      F    71.865279  50.727358      Arts    72.847738    Sci&amp;Tech            False                 0           82.563002   Mkt&amp;HR  58.137724      NaN    True                           NaT 2020-04-10 06:16:53.547707136       NaN</span>
</pre></div>
</div>
<p>For creating large amounts of synthetic data, provide a batch_size. This breaks up the sampling
into multiple batches and shows a progress bar. Use the output_file_path parameter to write
results to a file.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">num_rows</span><span class="o">=</span><span class="mi">1_000_000</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">,</span> <span class="n">output_file_path</span><span class="o">=</span><span class="s1">&#39;synthetic_data.csv&#39;</span><span class="p">)</span>
<span class="gh">Out[11]: </span><span class="go"></span>
<span class="go">        student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0                0      F    79.428637  66.339361  Commerce    65.186631   Comm&amp;Mgmt             True                 1           98.000000   Mkt&amp;HR  63.960092      NaN    True 2020-01-06 02:06:12.250099968 2020-04-10 16:19:00.014724864       3.0</span>
<span class="go">1                1      F    58.343546  57.663568  Commerce    58.718383   Comm&amp;Mgmt            False                 0           84.245711   Mkt&amp;HR  62.479066  33702.0   False                           NaT                           NaT       3.0</span>
<span class="go">2                2      M    68.369198  65.786641  Commerce    65.733333   Comm&amp;Mgmt            False                 1           57.948209   Mkt&amp;HR  60.615368      NaN    True 2020-03-30 17:21:50.598199040                           NaT       NaN</span>
<span class="go">3                3      M    70.223712  77.524134  Commerce    55.142945   Comm&amp;Mgmt             True                 1           71.161809   Mkt&amp;HR  55.232352  20000.0    True                           NaT 2020-09-09 13:28:55.712185600       NaN</span>
<span class="go">4                4      M    69.671871  56.533118   Science    64.196254    Sci&amp;Tech            False                 0           91.565040   Mkt&amp;HR  65.669524  28800.0   False 2020-04-13 10:08:45.767266304 2020-09-12 09:24:26.958931968       NaN</span>
<span class="go">...            ...    ...          ...        ...       ...          ...         ...              ...               ...                 ...      ...        ...      ...     ...                           ...                           ...       ...</span>
<span class="go">999995        9995      M    71.115684  67.048926  Commerce    59.913873    Sci&amp;Tech            False                 0           73.975691   Mkt&amp;HR  67.549082  31122.0   False 2019-11-27 10:09:43.391200512 2020-05-06 11:47:14.914624768       NaN</span>
<span class="go">999996        9996      M    66.789271  82.810904  Commerce    60.323238   Comm&amp;Mgmt            False                 0           95.666923  Mkt&amp;Fin  61.518616  24932.0   False 2019-12-11 15:56:22.379554816 2020-06-06 09:37:02.972274432       NaN</span>
<span class="go">999997        9997      M    67.628411  72.650405  Commerce    73.366621    Sci&amp;Tech             True                 1           74.635389  Mkt&amp;Fin  63.699526  28759.0    True                           NaT 2020-09-22 02:10:18.042279936       6.0</span>
<span class="go">999998        9998      M    69.389908  61.226316  Commerce    55.249141    Sci&amp;Tech             True                 1           69.872232   Mkt&amp;HR  56.071551      NaN    True 2020-02-18 02:50:58.579859200                           NaT       NaN</span>
<span class="go">999999        9999      M    43.361345  58.138085  Commerce    57.334288    Sci&amp;Tech            False                 0           64.509022   Mkt&amp;HR  58.239168      NaN   False 2020-03-29 06:17:31.554124032 2020-08-01 07:51:57.382935552       3.0</span>

<span class="go">[1000000 rows x 17 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="conditional-sampling">
<h3>Conditional Sampling<a class="headerlink" href="#conditional-sampling" title="Permalink to this headline">¶</a></h3>
<p>The model generates new synthetic data – synthetic rows that do not refer to the original.
But sometimes you may want to fix some values.</p>
<p>For example, you might only be interested in synthesizing science and commerce students with
work experience. Using <strong>conditional sampling</strong>, you can specify the exact, fixed values that
you need. The SDV model will then synthesize the rest of the data.</p>
<p>First, use the Condition object to specify the exact values you want. You specify a dictionary
of column names and the exact value you want, along with the number of rows to synthesize.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="kn">from</span> <span class="nn">sdv.sampling.tabular</span> <span class="kn">import</span> <span class="n">Condition</span>

<span class="go"># 100 science students with work experience</span>
<span class="gp">In [13]: </span><span class="n">science_students</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">(</span>
<span class="gp">   ....: </span>   <span class="n">column_values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;high_spec&#39;</span><span class="p">:</span> <span class="s1">&#39;Science&#39;</span><span class="p">,</span> <span class="s1">&#39;work_experience&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">num_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="go"># 200 commerce students with work experience</span>
<span class="gp">In [14]: </span><span class="n">commerce_students</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">(</span>
<span class="gp">   ....: </span>   <span class="n">column_values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;high_spec&#39;</span><span class="p">:</span> <span class="s1">&#39;Commerce&#39;</span><span class="p">,</span> <span class="s1">&#39;work_experience&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">num_rows</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p>You can now use the sample_conditions function and pass in a list of conditions.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">all_conditions</span> <span class="o">=</span> <span class="p">[</span><span class="n">science_students</span><span class="p">,</span> <span class="n">commerce_students</span><span class="p">]</span>

<span class="gp">In [16]: </span><span class="n">model</span><span class="o">.</span><span class="n">sample_conditions</span><span class="p">(</span><span class="n">conditions</span><span class="o">=</span><span class="n">all_conditions</span><span class="p">)</span>
<span class="gh">Out[16]: </span><span class="go"></span>
<span class="go">     student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0             0      M    77.687044  81.606717   Science    65.825498    Sci&amp;Tech             True                 1           53.252756   Mkt&amp;HR  62.445713  26604.0    True                           NaT 2020-10-11 01:22:53.241563136       NaN</span>
<span class="go">1             1      F    57.719257  49.206567   Science    59.262151   Comm&amp;Mgmt             True                 1           76.555499   Mkt&amp;HR  64.650478  29329.0   False 2020-01-25 00:17:56.164072960 2020-08-19 13:52:25.473539072       NaN</span>
<span class="go">2             2      M    86.619456  64.660627   Science    70.508206    Sci&amp;Tech             True                 1           88.959709  Mkt&amp;Fin  60.173747      NaN    True                           NaT                           NaT       6.0</span>
<span class="go">3             3      M    86.762124  68.515214   Science    69.175609   Comm&amp;Mgmt             True                 1           81.841868  Mkt&amp;Fin  66.814740  37872.0    True                           NaT 2020-07-27 23:15:55.967211776       NaN</span>
<span class="go">4             4      F    57.753332  62.205236   Science    64.684953    Sci&amp;Tech             True                 2           63.292387   Mkt&amp;HR  53.082265  22172.0    True 2020-02-02 03:33:01.935560704 2020-10-25 00:56:00.549259776       6.0</span>
<span class="go">..          ...    ...          ...        ...       ...          ...         ...              ...               ...                 ...      ...        ...      ...     ...                           ...                           ...       ...</span>
<span class="go">295         295      M    67.595588  63.441182  Commerce    67.993936    Sci&amp;Tech             True                 1           65.631336   Mkt&amp;HR  62.975867      NaN   False 2020-02-02 06:40:56.830706176                           NaT       NaN</span>
<span class="go">296         296      F    81.998645  63.930336  Commerce    58.577062   Comm&amp;Mgmt             True                 1           92.502376  Mkt&amp;Fin  71.969636      NaN    True                           NaT                           NaT       3.0</span>
<span class="go">297         297      F    56.632340  61.279020  Commerce    62.365854   Comm&amp;Mgmt             True                 1           62.324177  Mkt&amp;Fin  66.148704  33440.0    True                           NaT 2020-03-20 17:51:59.504945408       6.0</span>
<span class="go">298         298      F    84.050310  64.538493  Commerce    75.897567   Comm&amp;Mgmt             True                 2           66.931020  Mkt&amp;Fin  72.784392  33221.0    True 2020-04-21 21:31:05.828751360 2020-12-09 15:41:35.926264064       NaN</span>
<span class="go">299         299      F    59.348801  45.945729  Commerce    56.377569    Sci&amp;Tech             True                 1           54.750850   Mkt&amp;HR  69.045082  30376.0   False 2020-03-07 12:21:16.096726784 2020-09-03 21:08:26.863586304       NaN</span>

<span class="go">[300 rows x 17 columns]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-usage">
<h2>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="adding-constraints">
<h3>Adding Constraints<a class="headerlink" href="#adding-constraints" title="Permalink to this headline">¶</a></h3>
<p>A constraint is a logical business rule that must be met by every row in your dataset.</p>
<p>In most cases, the preset is able to learn a general trend and create synthetic data where <em>most</em>
of the rows follow the rule. Use a constraint if you want to enforce that <em>all</em> of the rows
must follow the rule.</p>
<p>In our dataset, we have a constraint: All the numerical values in the duration column must be divisible by 3.
We can describe this using a FixedIncrements constraint.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="kn">from</span> <span class="nn">sdv.constraints</span> <span class="kn">import</span> <span class="n">FixedIncrements</span>

<span class="go"># use the formula when defining the constraint</span>
<span class="gp">In [18]: </span><span class="n">duration_constraint</span> <span class="o">=</span> <span class="n">FixedIncrements</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">increment_value</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p>You can input constraints into the presets when creating your model.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">constrained_model</span> <span class="o">=</span> <span class="n">TabularPreset</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;FAST_ML&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">constraints</span><span class="o">=</span><span class="p">[</span><span class="n">duration_constraint</span><span class="p">],</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [20]: </span><span class="n">constrained_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>When you sample from the model, the synthetic data will follow the constraints</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">constrained_synthetic_data</span> <span class="o">=</span> <span class="n">constrained_model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">num_rows</span><span class="o">=</span><span class="mi">1_000</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">constrained_synthetic_data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gh">Out[22]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0           0      M    57.300087  67.655502   Science    68.966324   Comm&amp;Mgmt            False                 0           67.170571   Mkt&amp;HR  61.888224      NaN   False                           NaT                           NaT       NaN</span>
<span class="go">1           1      M    74.405132  85.949325   Science    78.102963    Sci&amp;Tech             True                 1           60.505013  Mkt&amp;Fin  72.047568  31659.0    True 2020-03-13 16:16:41.582030080 2020-09-07 00:24:08.715815168       3.0</span>
<span class="go">2           2      F    77.209456  58.763720   Science    57.548742      Others             True                 1           65.874506  Mkt&amp;Fin  58.990687  34824.0    True 2020-04-03 08:27:32.995629568 2020-06-22 10:11:37.373638656       3.0</span>
<span class="go">3           3      F    62.608397  78.420730   Science    61.782102   Comm&amp;Mgmt            False                 0           86.614222  Mkt&amp;Fin  65.971146      NaN   False                           NaT                           NaT       NaN</span>
<span class="go">4           4      M    70.156224  70.635905  Commerce    67.887657   Comm&amp;Mgmt            False                 1           88.464566  Mkt&amp;Fin  60.118939  34382.0    True 2020-05-08 15:24:00.926043392 2020-07-21 00:54:49.278088704      12.0</span>
<span class="go">5           5      F    81.897872  97.700000  Commerce    86.951382   Comm&amp;Mgmt             True                 1           88.468107  Mkt&amp;Fin  74.257821  27077.0    True 2019-12-05 14:52:51.676180992 2020-07-08 17:14:31.438298368       NaN</span>
<span class="go">6           6      M    72.116456  64.526462  Commerce    60.811772    Sci&amp;Tech             True                 1           56.857718  Mkt&amp;Fin  57.972075      NaN   False                           NaT                           NaT       6.0</span>
<span class="go">7           7      M    75.107764  73.646129  Commerce    79.962107   Comm&amp;Mgmt            False                 0           83.288892  Mkt&amp;Fin  57.733449  43861.0    True 2019-12-05 00:23:39.837441536 2020-05-22 20:08:59.201916672       NaN</span>
<span class="go">8           8      M    65.769230  64.672046   Science    70.161421   Comm&amp;Mgmt             True                 1           85.717844  Mkt&amp;Fin  60.681209  22385.0    True 2019-08-10 15:05:12.937857280 2020-06-03 16:53:57.754783232      12.0</span>
<span class="go">9           9      M    48.721607  37.121656   Science    68.214546   Comm&amp;Mgmt             True                 1           55.290857   Mkt&amp;HR  62.585819      NaN   False                           NaT                           NaT       3.0</span>
</pre></div>
</div>
<p>To read more about defining constraints, see the
<a class="reference external" href="https://sdv.dev/SDV/user_guides/single_table/handling_constraints.html">Handling Constraints User Guide</a>.</p>
</div>
</div>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<p>The SDV (Synthetic Data Vault) is an open source project built &amp; maintained by DataCebo. It is free to use under the MIT License.</p>
<p>For other resources see our: <a class="reference external" href="https://github.com/sdv-dev/SDV">GitHub</a>,
<a class="reference external" href="https://sdv.dev/SDV/">Docs</a>, <a class="reference external" href="https://sdv.dev/blog/">Blog</a>.</p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="models.html" title="previous page">Models</a>
    <a class='right-next' id="next-link" href="gaussian_copula.html" title="next page">GaussianCopula Model</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-180602145-3', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2018, MIT Data To AI Lab.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>