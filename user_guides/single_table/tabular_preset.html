
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tabular Preset &#8212; SDV 0.17.0 documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sdv.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../../_static/SDV.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GaussianCopula Model" href="gaussian_copula.html" />
    <link rel="prev" title="Models" href="models.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/SDV.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../getting_started/index.html">Getting Started</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">User Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../api_reference/index.html">API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../developer_guides/index.html">Developer Guides</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../history.html">Release Notes</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/sdv-dev/SDV" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/sdv_dev" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://bit.ly/sdv-slack-invite" target="_blank" rel="noopener">
              <img class="nav-icon-img" src="../../_static/slack-32.png">
            </a>
          </li>
        
      </ul>
    </div>
</div>

    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
    
    <ul class="nav bd-sidenav">
        
        
        
        
          
            
                <li class="active">
                    <a href="index.html">Single Table Data</a>
                    <ul>
                    
                        
                            <li class="">
                                <a href="data_description.html">Data Description</a>
                            </li>
                        

                    
                        
                            <li class="active">
                                <a href="models.html">Models</a>
                                <ul>
                                
                                    <li class="active">
                                        <a href="">Tabular Preset</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="gaussian_copula.html">GaussianCopula Model</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="ctgan.html">CTGAN Model</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="copulagan.html">CopulaGAN Model</a>
                                    </li>
                                
                                    <li class="">
                                        <a href="tvae.html">TVAE Model</a>
                                    </li>
                                
                                </ul>
                            </li>
                        

                    
                        
                            <li class="">
                                <a href="constraints.html">Constraints</a>
                            </li>
                        

                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="../relational/index.html">Relational Data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../timeseries/index.html">Timeseries Data</a>
                </li>
            
          
            
                <li class="">
                    <a href="../evaluation/index.html">Synthetic Data Evaluation</a>
                </li>
            
          
            
                <li class="">
                    <a href="../benchmarking/index.html">Benchmarking Framework</a>
                </li>
            
          
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-is-the-fast-ml-preset" class="nav-link">What is the FAST_ML preset?</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#what-will-you-get-with-this-preset" class="nav-link">What will you get with this preset?</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#quick-usage" class="nav-link">Quick Usage</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#preparation" class="nav-link">Preparation</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#modeling" class="nav-link">Modeling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#sampling" class="nav-link">Sampling</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#conditional-sampling" class="nav-link">Conditional Sampling</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#advanced-usage" class="nav-link">Advanced Usage</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#adding-constraints" class="nav-link">Adding Constraints</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#resources" class="nav-link">Resources</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="tabular-preset">
<span id="id1"></span><h1>Tabular Preset<a class="headerlink" href="#tabular-preset" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">TabularPreset</span></code> is a tabular model that comes with pre-configured settings. This
is meant for users who want to get started with using synthetic data and spend
less time worrying about which model to choose or how to tune its parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We are currently in Beta testing our speed-optimized machine learning preset. Help us by
testing the model and <a class="reference external" href="https://github.com/sdv-dev/SDV/issues/new/choose">filing issues</a>
for any bugs or feature requests you may have.</p>
</div>
<div class="section" id="what-is-the-fast-ml-preset">
<h2>What is the FAST_ML preset?<a class="headerlink" href="#what-is-the-fast-ml-preset" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">FAST_ML</span></code> preset is our first preset. It uses machine learning (ML) to model your data
while optimizing for the modeling time. This is a great choice if it’s your first time using
the SDV for a large custom dataset or if you’re exploring the benefits of using ML to create
synthetic data.</p>
<div class="section" id="what-will-you-get-with-this-preset">
<h3>What will you get with this preset?<a class="headerlink" href="#what-will-you-get-with-this-preset" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>This preset optimizes for the modeling time while still applying machine learning to model
and generate synthetic data.</p></li>
<li><p>Your synthetic data will capture correlations that exist between the columns of the original
data.</p></li>
<li><p>Your synthetic data will adhere to the basic statistical properties of the original columns:
min/max values, averages and standard deviations.</p></li>
</ul>
<p>While other SDV models may create higher quality synthetic data, they will take longer.
Using the <code class="docutils literal notranslate"><span class="pre">FAST_ML</span></code> preset allows you to get started with ML to create synthetic data
right now.</p>
</div>
</div>
<div class="section" id="quick-usage">
<h2>Quick Usage<a class="headerlink" href="#quick-usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="preparation">
<h3>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h3>
<p>To use this preset, you must have:</p>
<ol class="arabic simple">
<li><p>Your data, loaded as a pandas DataFrame, and</p></li>
<li><p>(Optional but strongly recommended) A metadata file that describes the columns of your dataset</p></li>
</ol>
<p>For this guide, we’ll load the demo data and metadata from the SDV. This data contains
information about students, including their grades, major and work experience.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">sdv.demo</span> <span class="kn">import</span> <span class="n">load_tabular_demo</span>

<span class="gp">In [2]: </span><span class="n">metadata</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">load_tabular_demo</span><span class="p">(</span><span class="s1">&#39;student_placements&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec  mba_perc   salary  placed start_date   end_date  duration</span>
<span class="go">0       17264      M        67.00      91.00  Commerce        58.00    Sci&amp;Tech            False                 0                55.0   Mkt&amp;HR     58.80  27000.0    True 2020-07-23 2020-10-12       3.0</span>
<span class="go">1       17265      M        79.33      78.33   Science        77.48    Sci&amp;Tech             True                 1                86.5  Mkt&amp;Fin     66.28  20000.0    True 2020-01-11 2020-04-09       3.0</span>
<span class="go">2       17266      M        65.00      68.00      Arts        64.00   Comm&amp;Mgmt            False                 0                75.0  Mkt&amp;Fin     57.80  25000.0    True 2020-01-26 2020-07-13       6.0</span>
<span class="go">3       17267      M        56.00      52.00   Science        52.00    Sci&amp;Tech            False                 0                66.0   Mkt&amp;HR     59.43      NaN   False        NaT        NaT       NaN</span>
<span class="go">4       17268      M        85.80      73.60  Commerce        73.30   Comm&amp;Mgmt            False                 0                96.8  Mkt&amp;Fin     55.50  42500.0    True 2020-07-04 2020-09-27       3.0</span>
</pre></div>
</div>
<p>If you want to use your custom dataset, you can load it using pandas.
For example, if your data is available as a CSV file, you can use the <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> method.</p>
<p>You can write your metadata as a dictionary. Follow the
<a class="reference external" href="https://sdv.dev/SDV/developer_guides/sdv/metadata.html#table">Metadata guide</a> to create
a dictionary for a single table. For example, the metadata for our table looks
something like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{
    &#39;fields&#39;: {
        &#39;start_date&#39;: {&#39;type&#39;: &#39;datetime&#39;, &#39;format&#39;: &#39;%Y-%m-%d&#39;},
        &#39;end_date&#39;: {&#39;type&#39;: &#39;datetime&#39;, &#39;format&#39;: &#39;%Y-%m-%d&#39;},
        &#39;salary&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;integer&#39;},
        &#39;duration&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;student_id&#39;: {&#39;type&#39;: &#39;id&#39;, &#39;subtype&#39;: &#39;integer&#39;},
        &#39;high_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;high_spec&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;mba_spec&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;second_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;gender&#39;: {&#39;type&#39;: &#39;categorical&#39;},
        &#39;degree_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;placed&#39;: {&#39;type&#39;: &#39;boolean&#39;},
        &#39;experience_years&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;integer&#39;},
        &#39;employability_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;mba_perc&#39;: {&#39;type&#39;: &#39;numerical&#39;, &#39;subtype&#39;: &#39;float&#39;},
        &#39;work_experience&#39;: {&#39;type&#39;: &#39;boolean&#39;},
        &#39;degree_type&#39;: {&#39;type&#39;: &#39;categorical&#39;}
    },
    &#39;constraints&#39;: [],
    &#39;primary_key&#39;: &#39;student_id&#39;
}
</pre></div>
</div>
</div>
<div class="section" id="modeling">
<h3>Modeling<a class="headerlink" href="#modeling" title="Permalink to this headline">¶</a></h3>
<p>Pass in your metadata to create the TabularPreset FAST_ML model.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="kn">from</span> <span class="nn">sdv.lite</span> <span class="kn">import</span> <span class="n">TabularPreset</span>

<span class="go"># Use the FAST_ML preset to optimize for modeling time</span>
<span class="gp">In [5]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">TabularPreset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;FAST_ML&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, simply pass in your data to train the model.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>The modeling step is optimized for speed. The exact time it takes depends on several factors
including the number of rows, columns and distinct categories in categorical columns. As a
rough benchmark, our analysis shows that:</p>
<ul class="simple">
<li><p>Datasets with around 100K rows and 50-100 columns will take a few minutes to model</p></li>
<li><p>Larger datasets with around 1M rows and hundreds of columns may take closer to an hour</p></li>
</ul>
<p>After you are finished modeling, you can save the fitted model and load it in again for future use.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># save the model in a new file</span>
<span class="gp">In [7]: </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;fast_ml_model.pkl&#39;</span><span class="p">)</span>

<span class="go"># later, you can load it in again</span>
<span class="gp">In [8]: </span><span class="n">model</span> <span class="o">=</span> <span class="n">TabularPreset</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;fast_ml_model.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="sampling">
<h3>Sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h3>
<p>Once you have your model, you can begin to create synthetic data. Use the sample method and
pass in the number of rows you want to synthesize.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">synthetic_data</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">num_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">synthetic_data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gh">Out[10]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0           0      F    79.736455  75.319969  Commerce    76.555574   Comm&amp;Mgmt             True                 1           72.378789  Mkt&amp;Fin  68.790636  20335.0    True 2019-12-17 19:01:03.735940608 2020-01-27 18:03:38.639649024       3.0</span>
<span class="go">1           1      M    61.789501  73.670001  Commerce    57.961591   Comm&amp;Mgmt            False                 0           76.976497   Mkt&amp;HR  54.972371  41097.0   False 2019-11-25 01:26:35.359033088                           NaT       3.0</span>
<span class="go">2           2      M    71.119540  70.056283  Commerce    66.727943   Comm&amp;Mgmt            False                 0           62.899477  Mkt&amp;Fin  72.632907  32116.0   False                           NaT                           NaT       3.0</span>
<span class="go">3           3      M    66.098838  53.597398  Commerce    62.087075   Comm&amp;Mgmt            False                 0           62.251879   Mkt&amp;HR  58.794444  39479.0   False                           NaT                           NaT       3.0</span>
<span class="go">4           4      F    42.155839  60.549904      Arts    53.306391    Sci&amp;Tech            False                 0           70.977168   Mkt&amp;HR  57.516073  20000.0   False                           NaT                           NaT       3.0</span>
</pre></div>
</div>
<p>For creating large amounts of synthetic data, provide a batch_size. This breaks up the sampling
into multiple batches and shows a progress bar. Use the output_file_path parameter to write
results to a file.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">num_rows</span><span class="o">=</span><span class="mi">1_000_000</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">10_000</span><span class="p">,</span> <span class="n">output_file_path</span><span class="o">=</span><span class="s1">&#39;synthetic_data.csv&#39;</span><span class="p">)</span>
<span class="gh">Out[11]: </span><span class="go"></span>
<span class="go">        student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0                0      M    68.646759  72.670038  Commerce    66.619404   Comm&amp;Mgmt             True                 1           75.626058   Mkt&amp;HR  67.778961  31234.0    True 2020-03-02 07:34:38.777016320                           NaT       NaN</span>
<span class="go">1                1      M    79.197934  72.813373   Science    72.108484    Sci&amp;Tech             True                 1           75.085680  Mkt&amp;Fin  68.293149  24858.0    True 2020-06-08 19:01:24.514722048                           NaT       NaN</span>
<span class="go">2                2      M    87.553003  71.785824  Commerce    66.121578   Comm&amp;Mgmt             True                 1           58.361568   Mkt&amp;HR  59.518008  29300.0    True                           NaT 2020-12-26 05:44:25.990538752       3.0</span>
<span class="go">3                3      M    78.201466  84.716099   Science    77.179410   Comm&amp;Mgmt            False                 0           85.502609  Mkt&amp;Fin  56.888997      NaN    True 2020-02-05 15:40:42.079844096                           NaT       NaN</span>
<span class="go">4                4      M    58.281479  72.238789  Commerce    62.872324   Comm&amp;Mgmt            False                 0           65.764670  Mkt&amp;Fin  51.287112      NaN    True                           NaT 2020-08-09 15:52:23.978851584       NaN</span>
<span class="go">...            ...    ...          ...        ...       ...          ...         ...              ...               ...                 ...      ...        ...      ...     ...                           ...                           ...       ...</span>
<span class="go">999995        9995      F    64.390225  45.230865      Arts    62.112705   Comm&amp;Mgmt            False                 0           61.184671   Mkt&amp;HR  51.210000      NaN    True 2020-03-13 16:57:20.277841664                           NaT       3.0</span>
<span class="go">999996        9996      M    73.526481  58.232537   Science    56.078908      Others             True                 1           84.597929  Mkt&amp;Fin  60.175822      NaN    True 2020-03-20 00:26:56.072084992 2020-11-30 03:05:56.809706496       NaN</span>
<span class="go">999997        9997      M    57.181919  49.790520      Arts    58.649053    Sci&amp;Tech             True                 1           58.551035   Mkt&amp;HR  60.076291      NaN    True 2020-05-08 00:39:38.004713472 2020-07-25 04:52:22.976071168       3.0</span>
<span class="go">999998        9998      F    71.651412  65.871381  Commerce    67.781130   Comm&amp;Mgmt            False                 0           90.183914   Mkt&amp;HR  66.222393      NaN   False                           NaT                           NaT       3.0</span>
<span class="go">999999        9999      F    66.411512  74.070534  Commerce    69.068929   Comm&amp;Mgmt            False                 0           70.796499  Mkt&amp;Fin  75.014357      NaN   False                           NaT                           NaT       NaN</span>

<span class="go">[1000000 rows x 17 columns]</span>
</pre></div>
</div>
</div>
<div class="section" id="conditional-sampling">
<h3>Conditional Sampling<a class="headerlink" href="#conditional-sampling" title="Permalink to this headline">¶</a></h3>
<p>The model generates new synthetic data – synthetic rows that do not refer to the original.
But sometimes you may want to fix some values.</p>
<p>For example, you might only be interested in synthesizing science and commerce students with
work experience. Using <strong>conditional sampling</strong>, you can specify the exact, fixed values that
you need. The SDV model will then synthesize the rest of the data.</p>
<p>First, use the Condition object to specify the exact values you want. You specify a dictionary
of column names and the exact value you want, along with the number of rows to synthesize.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="kn">from</span> <span class="nn">sdv.sampling.tabular</span> <span class="kn">import</span> <span class="n">Condition</span>

<span class="go"># 100 science students with work experience</span>
<span class="gp">In [13]: </span><span class="n">science_students</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">(</span>
<span class="gp">   ....: </span>   <span class="n">column_values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;high_spec&#39;</span><span class="p">:</span> <span class="s1">&#39;Science&#39;</span><span class="p">,</span> <span class="s1">&#39;work_experience&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">num_rows</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="go"># 200 commerce students with work experience</span>
<span class="gp">In [14]: </span><span class="n">commerce_students</span> <span class="o">=</span> <span class="n">Condition</span><span class="p">(</span>
<span class="gp">   ....: </span>   <span class="n">column_values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;high_spec&#39;</span><span class="p">:</span> <span class="s1">&#39;Commerce&#39;</span><span class="p">,</span> <span class="s1">&#39;work_experience&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">num_rows</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p>You can now use the sample_conditions function and pass in a list of conditions.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">all_conditions</span> <span class="o">=</span> <span class="p">[</span><span class="n">science_students</span><span class="p">,</span> <span class="n">commerce_students</span><span class="p">]</span>

<span class="gp">In [16]: </span><span class="n">model</span><span class="o">.</span><span class="n">sample_conditions</span><span class="p">(</span><span class="n">conditions</span><span class="o">=</span><span class="n">all_conditions</span><span class="p">)</span>
<span class="gh">Out[16]: </span><span class="go"></span>
<span class="go">     student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0             0      M    72.594181  54.689554   Science    66.823233      Others             True                 2           50.387567  Mkt&amp;Fin  58.979541      NaN   False 2019-11-17 01:09:31.900721920                           NaT       6.0</span>
<span class="go">1             1      M    89.400000  72.496249   Science    76.960399   Comm&amp;Mgmt             True                 1           98.000000  Mkt&amp;Fin  64.339167      NaN    True 2020-04-12 07:47:51.499642112                           NaT       3.0</span>
<span class="go">2             2      M    61.332334  59.833408   Science    68.317364   Comm&amp;Mgmt             True                 1           59.089637  Mkt&amp;Fin  55.741271  25338.0    True                           NaT                           NaT       6.0</span>
<span class="go">3             3      F    63.655021  72.081729   Science    71.306884   Comm&amp;Mgmt             True                 1           92.968221  Mkt&amp;Fin  65.170916      NaN    True                           NaT 2020-10-11 11:41:07.972079616       NaN</span>
<span class="go">4             4      M    59.509836  47.276897   Science    75.278913   Comm&amp;Mgmt             True                 2           86.615807  Mkt&amp;Fin  57.591925      NaN    True                           NaT                           NaT       NaN</span>
<span class="go">..          ...    ...          ...        ...       ...          ...         ...              ...               ...                 ...      ...        ...      ...     ...                           ...                           ...       ...</span>
<span class="go">295         295      M    83.038288  90.650442  Commerce    64.880508   Comm&amp;Mgmt             True                 1           98.000000  Mkt&amp;Fin  57.013709  30487.0    True                           NaT                           NaT       NaN</span>
<span class="go">296         296      M    66.682940  80.323316  Commerce    61.964761   Comm&amp;Mgmt             True                 1           75.107842   Mkt&amp;HR  67.754431      NaN    True                           NaT                           NaT      12.0</span>
<span class="go">297         297      M    89.400000  78.861588  Commerce    68.862392    Sci&amp;Tech             True                 1           67.946711  Mkt&amp;Fin  62.052040      NaN    True                           NaT 2020-07-11 23:29:21.208189184       3.0</span>
<span class="go">298         298      M    64.737490  74.284206  Commerce    58.909967   Comm&amp;Mgmt             True                 1           70.091720   Mkt&amp;HR  55.537642      NaN    True 2020-02-28 03:42:22.493566976                           NaT       3.0</span>
<span class="go">299         299      M    40.890000  47.833068  Commerce    53.701092   Comm&amp;Mgmt             True                 1           67.242293   Mkt&amp;HR  56.270850  22544.0   False 2019-11-12 16:17:22.935218432                           NaT       NaN</span>

<span class="go">[300 rows x 17 columns]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-usage">
<h2>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="adding-constraints">
<h3>Adding Constraints<a class="headerlink" href="#adding-constraints" title="Permalink to this headline">¶</a></h3>
<p>A constraint is a logical business rule that must be met by every row in your dataset.</p>
<p>In most cases, the preset is able to learn a general trend and create synthetic data where <em>most</em>
of the rows follow the rule. Use a constraint if you want to enforce that <em>all</em> of the rows
must follow the rule.</p>
<p>In our dataset, we have a constraint: All the numerical values in the duration column must be divisible by 3.
We can describe this using a FixedIncrements constraint.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="kn">from</span> <span class="nn">sdv.constraints</span> <span class="kn">import</span> <span class="n">FixedIncrements</span>

<span class="go"># use the formula when defining the constraint</span>
<span class="gp">In [18]: </span><span class="n">duration_constraint</span> <span class="o">=</span> <span class="n">FixedIncrements</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">column_name</span><span class="o">=</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">increment_value</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<p>You can input constraints into the presets when creating your model.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">constrained_model</span> <span class="o">=</span> <span class="n">TabularPreset</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;FAST_ML&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">constraints</span><span class="o">=</span><span class="p">[</span><span class="n">duration_constraint</span><span class="p">],</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [20]: </span><span class="n">constrained_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>When you sample from the model, the synthetic data will follow the constraints</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">constrained_synthetic_data</span> <span class="o">=</span> <span class="n">constrained_model</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">num_rows</span><span class="o">=</span><span class="mi">1_000</span><span class="p">)</span>

<span class="gp">In [22]: </span><span class="n">constrained_synthetic_data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gh">Out[22]: </span><span class="go"></span>
<span class="go">   student_id gender  second_perc  high_perc high_spec  degree_perc degree_type  work_experience  experience_years  employability_perc mba_spec   mba_perc   salary  placed                    start_date                      end_date  duration</span>
<span class="go">0           0      M    61.529197  62.529890  Commerce    55.673560   Comm&amp;Mgmt             True                 1           50.708293   Mkt&amp;HR  57.697741  32270.0    True 2020-04-20 12:00:44.534630656 2020-10-01 19:44:41.152283904       NaN</span>
<span class="go">1           1      F    64.188482  62.643589  Commerce    61.849173   Comm&amp;Mgmt            False                 0           50.000000   Mkt&amp;HR  64.667094      NaN   False                           NaT                           NaT       NaN</span>
<span class="go">2           2      M    68.237131  60.107687   Science    59.677492    Sci&amp;Tech            False                 0           58.968679   Mkt&amp;HR  62.936109      NaN   False                           NaT                           NaT      12.0</span>
<span class="go">3           3      M    68.125368  71.846040  Commerce    66.698492   Comm&amp;Mgmt            False                 0           53.371083   Mkt&amp;HR  54.243387  22189.0    True 2020-02-13 18:56:34.080341760 2020-07-29 01:10:24.038976000       NaN</span>
<span class="go">4           4      M    48.136458  44.911742   Science    60.925003    Sci&amp;Tech            False                 0           69.614053   Mkt&amp;HR  56.612490      NaN   False                           NaT                           NaT       NaN</span>
<span class="go">5           5      M    75.502204  79.622358  Commerce    65.623056   Comm&amp;Mgmt            False                 0           95.151543  Mkt&amp;Fin  73.157429  44345.0    True 2019-11-07 10:26:48.466216704 2020-05-03 11:27:11.060687104       NaN</span>
<span class="go">6           6      M    70.338138  69.282358  Commerce    63.484385    Sci&amp;Tech             True                 1           63.154022  Mkt&amp;Fin  71.303867      NaN   False                           NaT                           NaT       3.0</span>
<span class="go">7           7      F    71.792305  79.161585  Commerce    61.804374   Comm&amp;Mgmt            False                 0           68.759001   Mkt&amp;HR  62.789233      NaN   False                           NaT                           NaT       NaN</span>
<span class="go">8           8      M    71.176107  91.108593   Science    60.264785    Sci&amp;Tech             True                 1           76.376354  Mkt&amp;Fin  61.828759  31000.0    True 2020-05-22 13:32:07.792273152 2020-12-17 11:49:13.830911488       3.0</span>
<span class="go">9           9      M    59.268438  67.816615  Commerce    56.099731   Comm&amp;Mgmt             True                 1           77.334419   Mkt&amp;HR  57.005192  32028.0    True 2019-11-30 06:58:45.850785792 2020-07-15 22:11:53.856793088       6.0</span>
</pre></div>
</div>
<p>To read more about defining constraints, see the
<a class="reference external" href="https://sdv.dev/SDV/user_guides/single_table/handling_constraints.html">Handling Constraints User Guide</a>.</p>
</div>
</div>
<div class="section" id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<p>The SDV (Synthetic Data Vault) is an open source project built &amp; maintained by DataCebo. It is free to use under the MIT License.</p>
<p>For other resources see our: <a class="reference external" href="https://github.com/sdv-dev/SDV">GitHub</a>,
<a class="reference external" href="https://sdv.dev/SDV/">Docs</a>, <a class="reference external" href="https://sdv.dev/blog/">Blog</a>.</p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="models.html" title="previous page">Models</a>
    <a class='right-next' id="next-link" href="gaussian_copula.html" title="next page">GaussianCopula Model</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-180602145-3', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2018, MIT Data To AI Lab.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>